<!-- Overlay -->
<div class="fixed inset-0   backdrop-blur-[2px] bg-black/50 bg-opacity-50 z-40 flex items-center justify-center overflow-y-auto">
  <!-- Popup Container -->
  <div class="relative bg-white rounded-[10px] xl:max-w-[45%] lg:max-w-[45%] md:max-w-[60%] sm:max-w-[80%] w-[95%] h-fit my-8 mx-auto">
    <!-- Close Button -->
    <button (click)="close.emit()" class="absolute lg:w-[40px] lg:h-[40px] w-[20px] h-[20px] lg:-right-11 -right-2 top-2 lg:top-0 sm:bg-[#0C1D2E] bg-white sm:opacity-70 sm:text-white font-bold flex items-center justify-center rounded-full z-50">
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none">
        <path d="M18 6L6 18" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
        <path d="M6 6L18 18" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
      </svg>
    </button>

    <!-- Content Container with max height and scrolling -->
    <div class="max-h-[85vh] overflow-y-auto">
      <!-- Header Section -->
      <div class="p-4">
        <span class="flex justify-between items-center">
          <div class="flex gap-2">
            <!-- Veg/Non-veg Indicator -->
            <div class="flex py-1">
              <div>
                <div class="h-4 w-4 border border-green-600 flex items-center justify-center cursor-pointer">
                  <div class="h-2 w-2 bg-green-600 rounded-full"></div>
                </div>
              </div>
            </div>
            <!-- Item Name -->
            <h2 class="text-[16px] text-[#0C1D2E] font-semibold flex flex-wrap items-center gap-2">
              {{item_name}}
              <span *ngIf="variation_name"><p class="text-sm">({{variation_name}})</p></span>
            </h2>
          </div>
          <!-- Favorite Icon -->
          <div>
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="25" viewBox="0 0 24 25" fill="none" class="cursor-pointer">
              <path d="M20.8405 4.77676C20.3297 4.26576 19.7233 3.8604 19.0558 3.58384C18.3884 3.30728 17.673 3.16493 16.9505 3.16493C16.228 3.16493 15.5126 3.30728 14.8451 3.58384C14.1777 3.8604 13.5712 4.26576 13.0605 4.77676L12.0005 5.83676L10.9405 4.77676C9.90879 3.74507 8.50952 3.16547 7.05049 3.16547C5.59145 3.16547 4.19218 3.74507 3.16049 4.77676C2.12879 5.80845 1.54919 7.20772 1.54919 8.66676C1.54919 10.1258 2.12879 11.5251 3.16049 12.5568L4.22048 13.6168L12.0005 21.3968L19.7805 13.6168L20.8405 12.5568C21.3515 12.046 21.7568 11.4396 22.0334 10.7721C22.31 10.1047 22.4523 9.38925 22.4523 8.66676C22.4523 7.94427 22.31 7.22886 22.0334 6.5614C21.7568 5.89394 21.3515 5.28751 20.8405 4.77676V4.77676Z" stroke="#748BA0" stroke-width="1.3" stroke-linecap="round" stroke-linejoin="round" fill="none"/>
            </svg>
          </div>
        </span>

        <!-- Description & Details -->
        <p class="pt-[12px] text-[16px] text-gray-400">{{description}}</p>
        <p *ngIf="nutrition" class="text-[14px] text-[#748BA0] font-[400] cursor-pointer">{{nutrition}}</p>
        <div class="lg:text-[20px] text-[16px] pt-[12px] sm:mb-4 flex items-center">
          <div class="font-[550] pr-[2px]">INR</div>{{price}}
        </div>

        <!-- Quantity Controls -->
        <div class="flex gap-[5%] justify-end items-end pt-[1%]">
          <!-- Note Button -->
          <div class="sm:w-[15%] w-[12%] sm:h-[7.8vh] h-[6vh] rounded-[10px] flex justify-center items-center bg-[#edf0f0] cursor-pointer">
            <svg width="19" height="21" viewBox="0 0 19 21" fill="#0C1D2E" xmlns="http://www.w3.org/2000/svg"><path d="M13.2835 9.15002C13.2835 8.7358 12.9322 8.40002 12.4989 8.40002H4.41809C3.98479 8.40002 3.63354 8.7358 3.63354 9.15002C3.63354 9.56425 3.98479 9.90002 4.41809 9.90002H12.4989C12.9322 9.90002 13.2835 9.56425 13.2835 9.15002Z" fill="#0C1D2E"></path><path d="M4.41809 11.4C3.98479 11.4 3.63354 11.7358 3.63354 12.15C3.63354 12.5642 3.98479 12.9 4.41809 12.9H9.32587C9.75918 12.9 10.1104 12.5642 10.1104 12.15C10.1104 11.7358 9.75918 11.4 9.32587 11.4H4.41809Z" fill="#0C1D2E"></path><path d="M6.26208 18.6H3.63819C2.77299 18.6 2.0691 17.9271 2.0691 17.1V3.90002C2.0691 3.07292 2.77299 2.40002 3.63819 2.40002H13.2838C14.149 2.40002 14.8529 3.07292 14.8529 3.90002V8.51251C14.8529 8.92674 15.2041 9.26251 15.6374 9.26251C16.0707 9.26251 16.422 8.92674 16.422 8.51251V3.90002C16.422 2.24582 15.0142 0.900024 13.2838 0.900024H3.63819C1.90779 0.900024 0.5 2.24582 0.5 3.90002V17.1C0.5 18.7542 1.90779 20.1 3.63819 20.1H6.26208C6.69538 20.1 7.04662 19.7642 7.04662 19.35C7.04662 18.9358 6.69538 18.6 6.26208 18.6Z" fill="#0C1D2E"></path><path d="M17.8115 11.7591C16.8938 10.8818 15.4007 10.8817 14.4836 11.7585L10.1763 15.867C10.0848 15.9542 10.0173 16.0617 9.97975 16.1799L9.0417 19.1321C8.95854 19.3938 9.03099 19.678 9.23082 19.8738C9.38051 20.0205 9.58387 20.1001 9.79244 20.1001C9.86222 20.1001 9.93268 20.0912 10.0018 20.0728L13.1685 19.2343C13.2988 19.1998 13.4176 19.1337 13.5133 19.0423L17.8115 14.9411C18.7292 14.0638 18.7292 12.6364 17.8115 11.7591ZM12.5508 17.8414L10.9577 18.2633L11.4239 16.7959L14.3302 14.0238L15.44 15.0846L12.5508 17.8414ZM16.7026 13.88L16.5506 14.025L15.441 12.9643L15.5925 12.8198C15.8984 12.5274 16.3961 12.5274 16.702 12.8198C17.0079 13.1122 17.0079 13.588 16.7026 13.88Z" fill="#0C1D2E"></path><path d="M12.4989 5.40002H4.41809C3.98479 5.40002 3.63354 5.7358 3.63354 6.15002C3.63354 6.56425 3.98479 6.90002 4.41809 6.90002H12.4989C12.9322 6.90002 13.2835 6.56425 13.2835 6.15002C13.2835 5.7358 12.9322 5.40002 12.4989 5.40002Z" fill="#0C1D2E"></path></svg>              <!-- Note icon paths -->
          </div>
          <!-- Counter -->
          <div class="w-[38%] sm:h-[7.8vh] h-[6vh] p-[13px] rounded-[10px] gap-[31%] flex justify-center items-center bg-[#edf0f0]">
            <p class="cursor-pointer flex items-center">
              <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 448 512" color="#748BA0" height="1em" width="1em">
                <path d="M432 256c0 17.7-14.3 32-32 32L48 288c-17.7 0-32-14.3-32-32s14.3-32 32-32l352 0c17.7 0 32 14.3 32 32z"/>
              </svg>
            </p>
            <p class="text-center flex items-center text-[18px] font-bold text-[#748BA0]">1</p>
            <p class="cursor-pointer flex items-center">
              <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 448 512" color="#748BA0" height="1em" width="1em">
                <path d="M256 80c0-17.7-14.3-32-32-32s-32 14.3-32 32V224H48c-17.7 0-32 14.3-32 32s14.3 32 32 32H192V432c0 17.7 14.3 32 32 32s32-14.3 32-32V288H400c17.7 0 32-14.3 32-32s-14.3-32-32-32H256V80z"/>
              </svg>
            </p>
          </div>
        </div>
      </div>

      <!-- Variations Only -->
      <app-variation-selector
        *ngIf="hasOnlyVariations()"
        [item]="item"
        [selectedVariation]="selectedVariation"
        (variationSelected)="onVariationSelect($event)">
      </app-variation-selector>

      <!-- Variations with Addons -->
      <app-variation-addon-selector
        *ngIf="hasVariationsWithAddons()"
        [item]="item"
        [selectedVariation]="selectedVariation"
        (variationSelected)="onVariationSelect($event)">
      </app-variation-addon-selector>

      <!-- Only Addons -->
      <!-- <app-addon-selector
        *ngIf="hasOnlyAddons()"
        [item]="item"
        (priceUpdated)="updateTotalPrice()">
      </app-addon-selector> -->
    </div>

    <!-- Footer Section -->
    <div class="border-t-2 border-[hsl(var(--border))] lg:rounded-b-[10px] items-center flex justify-between py-[8px] sm:px-[24px] px-4">
      <div class="sm:text-[20px] text-[16px] flex items-center">
        <div class="font-[550] pr-[2px]">INR</div>{{total_price}}
      </div>
      <button class="sm:px-[20%] lg:px-4 px-4 flex gap-2 py-[2%] items-center text-white rounded-[10px] text-[16px] font-bold bg-[var(--temp-back)]">
        <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 448 512" height="1em" width="1em">
          <path d="M256 80c0-17.7-14.3-32-32-32s-32 14.3-32 32V224H48c-17.7 0-32 14.3-32 32s14.3 32 32 32H192V432c0 17.7 14.3 32 32 32s32-14.3 32-32V288H400c17.7 0 32-14.3 32-32s-14.3-32-32-32H256V80z"/>
        </svg>
        Add to Cart
      </button>
    </div>
  </div>
</div> 






<!-- <svg width="19" height="21" viewBox="0 0 19 21" fill="#0C1D2E" xmlns="http://www.w3.org/2000/svg"><path d="M13.2835 9.15002C13.2835 8.7358 12.9322 8.40002 12.4989 8.40002H4.41809C3.98479 8.40002 3.63354 8.7358 3.63354 9.15002C3.63354 9.56425 3.98479 9.90002 4.41809 9.90002H12.4989C12.9322 9.90002 13.2835 9.56425 13.2835 9.15002Z" fill="#0C1D2E"></path><path d="M4.41809 11.4C3.98479 11.4 3.63354 11.7358 3.63354 12.15C3.63354 12.5642 3.98479 12.9 4.41809 12.9H9.32587C9.75918 12.9 10.1104 12.5642 10.1104 12.15C10.1104 11.7358 9.75918 11.4 9.32587 11.4H4.41809Z" fill="#0C1D2E"></path><path d="M6.26208 18.6H3.63819C2.77299 18.6 2.0691 17.9271 2.0691 17.1V3.90002C2.0691 3.07292 2.77299 2.40002 3.63819 2.40002H13.2838C14.149 2.40002 14.8529 3.07292 14.8529 3.90002V8.51251C14.8529 8.92674 15.2041 9.26251 15.6374 9.26251C16.0707 9.26251 16.422 8.92674 16.422 8.51251V3.90002C16.422 2.24582 15.0142 0.900024 13.2838 0.900024H3.63819C1.90779 0.900024 0.5 2.24582 0.5 3.90002V17.1C0.5 18.7542 1.90779 20.1 3.63819 20.1H6.26208C6.69538 20.1 7.04662 19.7642 7.04662 19.35C7.04662 18.9358 6.69538 18.6 6.26208 18.6Z" fill="#0C1D2E"></path><path d="M17.8115 11.7591C16.8938 10.8818 15.4007 10.8817 14.4836 11.7585L10.1763 15.867C10.0848 15.9542 10.0173 16.0617 9.97975 16.1799L9.0417 19.1321C8.95854 19.3938 9.03099 19.678 9.23082 19.8738C9.38051 20.0205 9.58387 20.1001 9.79244 20.1001C9.86222 20.1001 9.93268 20.0912 10.0018 20.0728L13.1685 19.2343C13.2988 19.1998 13.4176 19.1337 13.5133 19.0423L17.8115 14.9411C18.7292 14.0638 18.7292 12.6364 17.8115 11.7591ZM12.5508 17.8414L10.9577 18.2633L11.4239 16.7959L14.3302 14.0238L15.44 15.0846L12.5508 17.8414ZM16.7026 13.88L16.5506 14.025L15.441 12.9643L15.5925 12.8198C15.8984 12.5274 16.3961 12.5274 16.702 12.8198C17.0079 13.1122 17.0079 13.588 16.7026 13.88Z" fill="#0C1D2E"></path><path d="M12.4989 5.40002H4.41809C3.98479 5.40002 3.63354 5.7358 3.63354 6.15002C3.63354 6.56425 3.98479 6.90002 4.41809 6.90002H12.4989C12.9322 6.90002 13.2835 6.56425 13.2835 6.15002C13.2835 5.7358 12.9322 5.40002 12.4989 5.40002Z" fill="#0C1D2E"></path></svg> -->